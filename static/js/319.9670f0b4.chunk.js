"use strict";(self.webpackChunkwallet_leopards_team_FRONTEND=self.webpackChunkwallet_leopards_team_FRONTEND||[]).push([[319],{3806:function(e,n,a){a.r(n),a.d(n,{default:function(){return ve}});var t=a(9434),o=a(7689),r=a(2791),c=a(854),s=function(e){return e.finance.totalBalance},l=a(9184),d="Balance_balanceContainer__C-AFQ",i="Balance_balanceAmount__8yfJl";var u=a.p+"static/media/hryvniaLogo.8b72370dad1354da2a1e4c59fe17fa4c.svg",m=a(3329),_=function(){var e=(0,t.v9)(s),n=(0,t.I0)();return(0,r.useEffect)((function(){n((0,l.q)())}),[n]),(0,m.jsxs)("div",{className:d,children:[(0,m.jsx)("p",{children:"Your balance"}),(0,m.jsxs)("div",{className:i,children:[(0,m.jsx)("img",{src:u,alt:"logo of hryvnia"}),(0,m.jsx)("p",{children:e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0.00"})]})]})},x=a(885),h=a(5861),j=a(4687),f=a.n(j),p=a(1044);function v(){return(v=(0,h.Z)(f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.ZP.get("https://api.monobank.ua/bank/currency");case 3:return n=e.sent,localStorage.setItem("currencyData",JSON.stringify(n.data)),localStorage.setItem("currencyFetchTime",Date.now()),e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var b,N=function(){return v.apply(this,arguments)},F="currency_table__z69t6",y="currency_tableHead__i33kg",k="currency_tableList__WWS3P",C="currency_bodyContainer__7gIiq",M="currency_bodyList__jE9sg",g="currency_bodyData__4GIlG",T="currency_loader__fcwmi",I=function(){var e,n,a,t,o,s=(0,r.useState)(null),l=(0,x.Z)(s,2),d=l[0],i=l[1],u=Date.now(),_=localStorage.getItem("currencyFetchTime"),h=Math.floor((u-_)/6e4),j={},f={};(0,r.useEffect)((function(){h<60||N().then(i)}),[h]);var p=function(e,n){return e.find((function(e){return e.currencyCodeA===n}))};d&&(j=p(d,840),f=p(d,978));var v=null===(e=localStorage)||void 0===e?void 0:e.getItem("currencyData"),b=JSON.parse(v);return b&&(j=p(b,840),f=p(b,978)),(0,m.jsxs)("div",{className:F,children:[(0,m.jsx)("div",{className:y,children:(0,m.jsxs)("ul",{className:k,children:[(0,m.jsx)("li",{children:"Currency"}),(0,m.jsx)("li",{children:"Purchase"}),(0,m.jsx)("li",{children:"Sale"})]})}),d||b?(0,m.jsxs)("div",{className:C,children:[(0,m.jsxs)("ul",{className:M,children:[(0,m.jsx)("li",{children:"USD"}),(0,m.jsx)("li",{className:g,children:null===(n=j)||void 0===n?void 0:n.rateBuy.toFixed(2)}),(0,m.jsx)("li",{children:null===(a=j)||void 0===a?void 0:a.rateSell.toFixed(2)})]}),(0,m.jsxs)("ul",{className:M,children:[(0,m.jsx)("li",{children:"EUR"}),(0,m.jsx)("li",{className:g,children:null===(t=f)||void 0===t?void 0:t.rateBuy.toFixed(2)}),(0,m.jsx)("li",{children:null===(o=f)||void 0===o?void 0:o.rateSell.toFixed(2)})]})]}):(0,m.jsx)("div",{className:T,children:(0,m.jsx)(c.Z,{height:"80",width:"80",color:"#ffffff"})})]})},A=a(8617),B=a(5581),S="ButtonAddTransactions_openBtn__mUV2r",w="ButtonAddTransactions_openBtnIcon__UP9tS",D=function(){var e=(0,t.I0)();return(0,m.jsx)("button",{className:S,type:"button",onClick:function(){e((0,B.Ru)(!0))},children:(0,m.jsx)(A.r7I,{className:w})})},Z=function(e){return e.modal.showModalAddTransaction},L="ModalAddTransaction_closeBtn__KUoYn",E="ModalAddTransaction_box__Y41ZK",O="ModalAddTransaction_title__Wzy3o",H="ModalUniversal_modal__backdrop__KxPUb",P="ModalUniversal_modal__content__p7mNf",U="ModalUniversal_btnClose__lyt9V",R="ModalUniversal_btnClose__icon__C5wxP",Y=a(4164),Q=a(3853),J=document.querySelector("#modal-root"),K=function(e){return(0,Y.createPortal)((0,m.jsx)("div",{className:H,onClick:e.onClick,type:"flipInX",children:(0,m.jsxs)("div",{className:P,children:[(0,m.jsx)("button",{className:U,onClick:e.onClose,children:(0,m.jsx)(Q.q5L,{className:R})}),e.children]})}),J)},V="ModalAddTransactionCheckbox_checkboxInfo__flVEV",q="ModalAddTransactionCheckbox_checkboxText__fdHit",W="ModalAddTransactionCheckbox_checkboxLabel__8-IHO",G="ModalAddTransactionCheckbox_checkboxIconBox__ZMmRM",X="ModalAddTransactionCheckbox_checkbox__xIemf",z="ModalAddTransactionCheckbox_checkboxIcon__WkWBj",$=function(e){var n=e.onHandleCheckbox,a=e.checkboxStatus;return(0,m.jsxs)("div",{className:V,children:[(0,m.jsx)("span",{className:q,style:a?{color:"#24CCA7"}:{color:"#e0e0e0"},children:"Income"}),(0,m.jsxs)("label",{className:W,onClick:n,children:[(0,m.jsx)("input",{className:X,type:"checkbox"}),(0,m.jsx)("div",{className:G,onClick:n,children:a?(0,m.jsx)(A.r7I,{className:z}):(0,m.jsx)(A.XhU,{className:z})})]}),(0,m.jsx)("span",{className:q,style:a?{color:"#e0e0e0"}:{color:"#FF6596"},children:"Expense"})]})},ee=a(1413),ne=a(5705),ae=a(1724),te=a(1799),oe=a.n(te),re=(a(1778),a(7425)),ce=function(e){var n,a=(n=e?new Date(Date.parse(e._d)):new Date).getDate();a<10&&(a="0"+a);var t=n.getMonth()+1;return t<10&&(t="0"+t),a+"."+t+"."+n.getFullYear()},se={container:"ModalAddTransactionForm_container__mInSF",addBtn:"ModalAddTransactionForm_addBtn__knwpQ",active:"ModalAddTransactionForm_active__9yLuK",addForm:"ModalAddTransactionForm_addForm__isvQk",addFormInputContainer:"ModalAddTransactionForm_addFormInputContainer__MQziW",categoryLabel:"ModalAddTransactionForm_categoryLabel__2r4J7",addFormInputCategory:"ModalAddTransactionForm_addFormInputCategory__QX5mk",scaleTitle:"ModalAddTransactionForm_scaleTitle__lpfO+",openMenuBtn:"ModalAddTransactionForm_openMenuBtn__+aSFk",openMenuBtnIcon:"ModalAddTransactionForm_openMenuBtnIcon__tA3ma",addFormInputSum:"ModalAddTransactionForm_addFormInputSum__Cj1YJ",addFormInputDate:"ModalAddTransactionForm_addFormInputDate__QHGQQ",dataBox:"ModalAddTransactionForm_dataBox__MJu+2",dataBtn:"ModalAddTransactionForm_dataBtn__DRe3G",dataBtnIcon:"ModalAddTransactionForm_dataBtnIcon__r8pPK",addFormTextarea:"ModalAddTransactionForm_addFormTextarea__7Ktvu",error:"ModalAddTransactionForm_error__k3cL4",sumBox:"ModalAddTransactionForm_sumBox__0LsIO"},le="ModalAddTransactionFormMenu_menu__drs0q",de="ModalAddTransactionFormMenu_menuItem__fXKa-",ie=function(e){var n=e.onClick;return(0,m.jsx)("ul",{className:le,children:["Main expenses","Products","Car","Self care","Child care","Household products","Education","Leisure","Other expenses","Entertainment"].map((function(e){return(0,m.jsx)("li",{className:de,onClick:n,children:e},e)}))})},ue=ae.Ry().shape({sum:ae.Rx().min(.01).max(25e5).required()}),me={sum:"",comment:""},_e=function(e){var n=e.checkboxStatus,a=e.onClick,t=(0,r.useState)(ce()),o=(0,x.Z)(t,2),c=o[0],s=o[1],l=(0,r.useState)(!1),d=(0,x.Z)(l,2),i=d[0],u=d[1],_=(0,r.useState)("Other expenses"),h=(0,x.Z)(_,2),j=h[0],f=h[1],p=function(){u(!i)};return(0,m.jsx)(ne.J9,{initialValues:me,validationSchema:ue,onSubmit:function(e,t){t.resetForm;var o=e.sum,r=e.comment;if(n){if(""===r){var s={sum:o,date:c};return console.log(s),void a()}var l=(0,ee.Z)((0,ee.Z)({},e),{},{date:c});return console.log(l),void a()}if(""===r){var d={category:j,sum:o,date:c};return console.log(d),void a()}var i=(0,ee.Z)((0,ee.Z)({category:j},e),{},{date:c});console.log(i),a()},children:(0,m.jsxs)(ne.l0,{className:se.addForm,children:[(0,m.jsxs)("div",{className:se.addFormInputContainer,children:[!n&&(0,m.jsxs)("label",{className:se.categoryLabel,children:[(0,m.jsx)(ne.gN,{className:se.addFormInputCategory,type:"text",placeholder:"Select a category",name:"category",value:j,onClick:p,autoComplete:"off",readOnly:!0}),(0,m.jsx)("button",{className:se.openMenuBtn,type:"button",onClick:p,children:i?(0,m.jsx)(Q.rH8,{className:se.openMenuBtnIcon}):(0,m.jsx)(Q.bTu,{className:se.openMenuBtnIcon})}),i&&(0,m.jsx)(ie,{onClick:function(e){f(e.currentTarget.textContent)}})]}),(0,m.jsxs)("label",{className:se.sumBox,children:[(0,m.jsx)(ne.gN,{className:se.addFormInputSum,type:"text",placeholder:"0.00",name:"sum",autoComplete:"off"}),(0,m.jsx)(ne.Bc,{className:se.errorMessage,name:"sum",component:"div",render:function(){return(0,m.jsx)("div",{className:se.error,children:"Please enter a number between 0.01 to 2500000"})}})]}),(0,m.jsx)("label",{children:(0,m.jsx)(oe(),{timeFormat:!1,renderInput:function(e,n){return(0,m.jsxs)("div",{className:se.dataBox,children:[(0,m.jsx)(ne.gN,(0,ee.Z)((0,ee.Z)({},e),{},{className:se.addFormInputDate,type:"text",placeholder:"date",name:"date",autoComplete:"off",value:c,readOnly:!0})),(0,m.jsx)("button",{className:se.dataBtn,type:"button",onClick:n,children:(0,m.jsx)(re.FVH,{className:se.dataBtnIcon})})]})},dateFormat:"DD.MM.YYYY",closeOnSelect:!0,initialValue:new Date,onChange:function(e){s(ce(e))}})}),(0,m.jsx)("label",{children:(0,m.jsx)(ne.gN,{className:se.addFormTextarea,name:"comment",component:"textarea",placeholder:"Comment"})})]}),(0,m.jsx)("button",{type:"submit",className:se.addBtn,children:"Add"})]})})},xe=function(){var e=(0,t.I0)(),n=(0,r.useState)(!1),a=(0,x.Z)(n,2),o=a[0],c=a[1],s=function(){e((0,B.Ru)(!1))},l=function(e){"Escape"===e.code&&s()};return(0,r.useEffect)((function(){return document.addEventListener("keydown",l),function(){document.removeEventListener("keydown",l)}})),(0,m.jsx)(K,{onClose:s,onClick:function(e){e.currentTarget===e.target&&s()},children:(0,m.jsxs)("div",{className:E,children:[(0,m.jsx)("h2",{className:O,children:"Add transaction"}),(0,m.jsx)($,{onHandleCheckbox:function(e){e.currentTarget===e.target&&c(!o)},checkboxStatus:o}),(0,m.jsx)(_e,{checkboxStatus:o,onClick:s}),(0,m.jsx)("button",{className:L,type:"button",onClick:s,children:"cancel"})]})})},he=a(168),je=a(1087),fe=(0,a(82).default)(je.OL)(b||(b=(0,he.Z)(["\n  color: #000000;\n  text-decoration: none;\n  &.active {\n    color: #212121;\n  }\n  :hover:not(.active),\n  :focus-visible:not(.active) {\n    color: #000000;\n  }\n"]))),pe=function(){return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{children:[(0,m.jsx)(fe,{to:"/",children:"Home"}),(0,m.jsx)(fe,{to:"statistic",children:"Statistic"})]})})},ve=function(){var e=(0,t.v9)(Z);return(0,m.jsxs)(m.Fragment,{children:[e&&(0,m.jsx)(xe,{}),(0,m.jsx)(pe,{}),(0,m.jsx)(_,{}),(0,m.jsx)(I,{}),(0,m.jsx)(D,{}),(0,m.jsx)(r.Suspense,{fallback:(0,m.jsx)(c.Z,{}),children:(0,m.jsx)(o.j3,{})}),(0,m.jsx)("div",{children:"HomePage"})]})}}}]);
//# sourceMappingURL=319.9670f0b4.chunk.js.map