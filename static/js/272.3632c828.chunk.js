"use strict";(self.webpackChunkwallet_leopards_team_FRONTEND=self.webpackChunkwallet_leopards_team_FRONTEND||[]).push([[272],{9215:function(e,a,n){n.d(a,{Z:function(){return l}});n(2791);var t="PageWrapper_container__NKNYi",o="PageWrapper_bg_page__dDpv1",r="PageWrapper_bg_blur__pVnV0",c="PageWrapper_wrapper__lKrPY",s=n(3329);function l(e){var a=e.children;return(0,s.jsx)("div",{className:o,children:(0,s.jsx)("div",{className:r,children:(0,s.jsx)("div",{className:t,children:(0,s.jsx)("div",{className:c,children:a})})})})}},1666:function(e,a,n){n.r(a),n.d(a,{default:function(){return xe}});var t=n(9434),o=n(2791),r=function(e){return e.finance.totalBalance},c=n(9184),s="Balance_balanceContainer__C-AFQ",l="Balance_balanceAmount__8yfJl";var d=n.p+"static/media/hryvniaLogo.8b72370dad1354da2a1e4c59fe17fa4c.svg",i=n(3329),u=function(){var e=(0,t.v9)(r),a=(0,t.I0)();return(0,o.useEffect)((function(){a((0,c.q)())}),[a]),(0,i.jsxs)("div",{className:s,children:[(0,i.jsx)("p",{children:"Your balance"}),(0,i.jsxs)("div",{className:l,children:[(0,i.jsx)("img",{src:d,alt:"logo of hryvnia"}),(0,i.jsx)("p",{children:e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0.00"})]})]})},m=n(885),_=n(5861),x=n(4687),h=n.n(x),p=n(1044);function f(){return(f=(0,_.Z)(h().mark((function e(){var a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.ZP.get("https://api.monobank.ua/bank/currency");case 3:return a=e.sent,localStorage.setItem("currencyData",JSON.stringify(a.data)),localStorage.setItem("currencyFetchTime",Date.now()),e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var j=function(){return f.apply(this,arguments)},v=n(854),b="currency_table__z69t6",N="currency_tableHead__i33kg",y="currency_tableList__WWS3P",F="currency_bodyContainer__7gIiq",g="currency_bodyList__jE9sg",C="currency_bodyData__4GIlG",M="currency_loader__fcwmi",k=function(){var e,a,n,t,r,c=(0,o.useState)(null),s=(0,m.Z)(c,2),l=s[0],d=s[1],u=Date.now(),_=localStorage.getItem("currencyFetchTime"),x=Math.floor((u-_)/6e4),h={},p={};(0,o.useEffect)((function(){x<60||j().then(d)}),[x]);var f=function(e,a){return e.find((function(e){return e.currencyCodeA===a}))};l&&(h=f(l,840),p=f(l,978));var k=null===(e=localStorage)||void 0===e?void 0:e.getItem("currencyData"),T=JSON.parse(k);return T&&(h=f(T,840),p=f(T,978)),(0,i.jsxs)("div",{className:b,children:[(0,i.jsx)("div",{className:N,children:(0,i.jsxs)("ul",{className:y,children:[(0,i.jsx)("li",{children:"Currency"}),(0,i.jsx)("li",{children:"Purchase"}),(0,i.jsx)("li",{children:"Sale"})]})}),l||T?(0,i.jsxs)("div",{className:F,children:[(0,i.jsxs)("ul",{className:g,children:[(0,i.jsx)("li",{children:"USD"}),(0,i.jsx)("li",{className:C,children:null===(a=h)||void 0===a?void 0:a.rateBuy.toFixed(2)}),(0,i.jsx)("li",{children:null===(n=h)||void 0===n?void 0:n.rateSell.toFixed(2)})]}),(0,i.jsxs)("ul",{className:g,children:[(0,i.jsx)("li",{children:"EUR"}),(0,i.jsx)("li",{className:C,children:null===(t=p)||void 0===t?void 0:t.rateBuy.toFixed(2)}),(0,i.jsx)("li",{children:null===(r=p)||void 0===r?void 0:r.rateSell.toFixed(2)})]})]}):(0,i.jsx)("div",{className:M,children:(0,i.jsx)(v.Z,{height:"80",width:"80",color:"#ffffff"})})]})},T=n(8617),I=n(5581),A="ButtonAddTransactions_openBtn__mUV2r",B="ButtonAddTransactions_openBtnIcon__UP9tS",S=function(){var e=(0,t.I0)();return(0,i.jsx)("button",{className:A,type:"button",onClick:function(){e((0,I.Ru)(!0))},children:(0,i.jsx)(T.r7I,{className:B})})},w=function(e){return e.modal.showModalAddTransaction},D="ModalAddTransaction_closeBtn__KUoYn",Z="ModalAddTransaction_box__Y41ZK",P="ModalAddTransaction_title__Wzy3o",E="ModalUniversal_modal__backdrop__KxPUb",L="ModalUniversal_modal__content__p7mNf",O="ModalUniversal_btnClose__lyt9V",U="ModalUniversal_btnClose__icon__C5wxP",Y=n(4164),H=n(3853),W=document.querySelector("#modal-root"),K=function(e){return(0,Y.createPortal)((0,i.jsx)("div",{className:E,onClick:e.onClick,type:"flipInX",children:(0,i.jsxs)("div",{className:L,children:[(0,i.jsx)("button",{className:O,onClick:e.onClose,children:(0,i.jsx)(H.q5L,{className:U})}),e.children]})}),W)},R="ModalAddTransactionCheckbox_checkboxInfo__flVEV",V="ModalAddTransactionCheckbox_checkboxText__fdHit",Q="ModalAddTransactionCheckbox_checkboxLabel__8-IHO",J="ModalAddTransactionCheckbox_checkboxIconBox__ZMmRM",q="ModalAddTransactionCheckbox_checkbox__xIemf",G="ModalAddTransactionCheckbox_checkboxIcon__WkWBj",X=function(e){var a=e.onHandleCheckbox,n=e.checkboxStatus;return(0,i.jsxs)("div",{className:R,children:[(0,i.jsx)("span",{className:V,style:n?{color:"#24CCA7"}:{color:"#e0e0e0"},children:"Income"}),(0,i.jsxs)("label",{className:Q,onClick:a,children:[(0,i.jsx)("input",{className:q,type:"checkbox"}),(0,i.jsx)("div",{className:J,onClick:a,children:n?(0,i.jsx)(T.r7I,{className:G}):(0,i.jsx)(T.XhU,{className:G})})]}),(0,i.jsx)("span",{className:V,style:n?{color:"#e0e0e0"}:{color:"#FF6596"},children:"Expense"})]})},z=n(1413),$=n(5705),ee=n(7103),ae=n(1799),ne=n.n(ae),te=(n(1778),n(7425)),oe=function(e){var a,n=(a=e?new Date(Date.parse(e._d)):new Date).getDate();n<10&&(n="0"+n);var t=a.getMonth()+1;return t<10&&(t="0"+t),n+"."+t+"."+a.getFullYear()},re={container:"ModalAddTransactionForm_container__mInSF",addBtn:"ModalAddTransactionForm_addBtn__knwpQ",active:"ModalAddTransactionForm_active__9yLuK",addForm:"ModalAddTransactionForm_addForm__isvQk",addFormInputContainer:"ModalAddTransactionForm_addFormInputContainer__MQziW",categoryLabel:"ModalAddTransactionForm_categoryLabel__2r4J7",addFormInputCategory:"ModalAddTransactionForm_addFormInputCategory__QX5mk",scaleTitle:"ModalAddTransactionForm_scaleTitle__lpfO+",openMenuBtn:"ModalAddTransactionForm_openMenuBtn__+aSFk",openMenuBtnIcon:"ModalAddTransactionForm_openMenuBtnIcon__tA3ma",addFormInputSum:"ModalAddTransactionForm_addFormInputSum__Cj1YJ",addFormInputDate:"ModalAddTransactionForm_addFormInputDate__QHGQQ",dataBox:"ModalAddTransactionForm_dataBox__MJu+2",dataBtn:"ModalAddTransactionForm_dataBtn__DRe3G",dataBtnIcon:"ModalAddTransactionForm_dataBtnIcon__r8pPK",addFormTextarea:"ModalAddTransactionForm_addFormTextarea__7Ktvu",error:"ModalAddTransactionForm_error__k3cL4",sumBox:"ModalAddTransactionForm_sumBox__0LsIO"},ce="ModalAddTransactionFormMenu_menu__drs0q",se="ModalAddTransactionFormMenu_menuItem__fXKa-",le=function(e){var a=e.onClick;return(0,i.jsx)("ul",{className:ce,children:["Main expenses","Products","Car","Self care","Child care","Household products","Education","Leisure","Other expenses","Entertainment"].map((function(e){return(0,i.jsx)("li",{className:se,onClick:a,children:e},e)}))})},de=ee.Ry().shape({sum:ee.Rx().min(.01).max(25e5).required()}),ie={sum:"",comment:""},ue=function(e){var a=e.checkboxStatus,n=e.onClick,t=(0,o.useState)(oe()),r=(0,m.Z)(t,2),c=r[0],s=r[1],l=(0,o.useState)(!1),d=(0,m.Z)(l,2),u=d[0],_=d[1],x=(0,o.useState)("Other expenses"),h=(0,m.Z)(x,2),p=h[0],f=h[1],j=function(){_(!u)};return(0,i.jsx)($.J9,{initialValues:ie,validationSchema:de,onSubmit:function(e,t){t.resetForm;var o=e.sum,r=e.comment;if(a){if(""===r){var s={sum:o,date:c};return console.log(s),void n()}var l=(0,z.Z)((0,z.Z)({},e),{},{date:c});return console.log(l),void n()}if(""===r){var d={category:p,sum:o,date:c};return console.log(d),void n()}var i=(0,z.Z)((0,z.Z)({category:p},e),{},{date:c});console.log(i),n()},children:(0,i.jsxs)($.l0,{className:re.addForm,children:[(0,i.jsxs)("div",{className:re.addFormInputContainer,children:[!a&&(0,i.jsxs)("label",{className:re.categoryLabel,children:[(0,i.jsx)($.gN,{className:re.addFormInputCategory,type:"text",placeholder:"Select a category",name:"category",value:p,onClick:j,autoComplete:"off",readOnly:!0}),(0,i.jsx)("button",{className:re.openMenuBtn,type:"button",onClick:j,children:u?(0,i.jsx)(H.rH8,{className:re.openMenuBtnIcon}):(0,i.jsx)(H.bTu,{className:re.openMenuBtnIcon})}),u&&(0,i.jsx)(le,{onClick:function(e){f(e.currentTarget.textContent)}})]}),(0,i.jsxs)("label",{className:re.sumBox,children:[(0,i.jsx)($.gN,{className:re.addFormInputSum,type:"text",placeholder:"0.00",name:"sum",autoComplete:"off"}),(0,i.jsx)($.Bc,{className:re.errorMessage,name:"sum",component:"div",render:function(){return(0,i.jsx)("div",{className:re.error,children:"Please enter a number between 0.01 to 2500000"})}})]}),(0,i.jsx)("label",{children:(0,i.jsx)(ne(),{timeFormat:!1,renderInput:function(e,a){return(0,i.jsxs)("div",{className:re.dataBox,children:[(0,i.jsx)($.gN,(0,z.Z)((0,z.Z)({},e),{},{className:re.addFormInputDate,type:"text",placeholder:"date",name:"date",autoComplete:"off",value:c,readOnly:!0})),(0,i.jsx)("button",{className:re.dataBtn,type:"button",onClick:a,children:(0,i.jsx)(te.FVH,{className:re.dataBtnIcon})})]})},dateFormat:"DD.MM.YYYY",closeOnSelect:!0,initialValue:new Date,onChange:function(e){s(oe(e))}})}),(0,i.jsx)("label",{children:(0,i.jsx)($.gN,{className:re.addFormTextarea,name:"comment",component:"textarea",placeholder:"Comment"})})]}),(0,i.jsx)("button",{type:"submit",className:re.addBtn,children:"Add"})]})})},me=function(){var e=(0,t.I0)(),a=(0,o.useState)(!1),n=(0,m.Z)(a,2),r=n[0],c=n[1],s=function(){e((0,I.Ru)(!1))},l=function(e){"Escape"===e.code&&s()};return(0,o.useEffect)((function(){return document.addEventListener("keydown",l),function(){document.removeEventListener("keydown",l)}})),(0,i.jsx)(K,{onClose:s,onClick:function(e){e.currentTarget===e.target&&s()},children:(0,i.jsxs)("div",{className:Z,children:[(0,i.jsx)("h2",{className:P,children:"Add transaction"}),(0,i.jsx)(X,{onHandleCheckbox:function(e){e.currentTarget===e.target&&c(!r)},checkboxStatus:r}),(0,i.jsx)(ue,{checkboxStatus:r,onClick:s}),(0,i.jsx)("button",{className:D,type:"button",onClick:s,children:"cancel"})]})})},_e=n(9215),xe=function(){var e=(0,t.v9)(w);return(0,i.jsxs)(_e.Z,{children:[e&&(0,i.jsx)(me,{}),(0,i.jsx)(u,{}),(0,i.jsx)(k,{}),(0,i.jsx)(S,{}),(0,i.jsx)("div",{children:"HomePage"})]})}}}]);
//# sourceMappingURL=272.3632c828.chunk.js.map