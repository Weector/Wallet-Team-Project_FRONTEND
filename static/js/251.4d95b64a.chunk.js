"use strict";(self.webpackChunkwallet_leopards_team_FRONTEND=self.webpackChunkwallet_leopards_team_FRONTEND||[]).push([[251],{4331:function(e,a,n){n.r(a),n.d(a,{default:function(){return ie}});var c=n(885),t=n(2791),o=n(5861),r=n(4687),s=n.n(r),l=n(1044);function d(){return(d=(0,o.Z)(s().mark((function e(){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.ZP.get("https://api.monobank.ua/bank/currency");case 3:return a=e.sent,localStorage.setItem("currencyData",JSON.stringify(a.data)),localStorage.setItem("currencyFetchTime",Date.now()),e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var i=function(){return d.apply(this,arguments)},u=n(854),m="currency_table__z69t6",x="currency_tableHead__i33kg",_="currency_tableList__WWS3P",h="currency_bodyContainer__7gIiq",j="currency_bodyList__jE9sg",f="currency_bodyData__4GIlG",p="currency_loader__fcwmi",N=n(3329),b=function(){var e,a,n,o,r,s=(0,t.useState)(null),l=(0,c.Z)(s,2),d=l[0],b=l[1],v=Date.now(),y=localStorage.getItem("currencyFetchTime"),k=Math.floor((v-y)/6e4),C={},M={};(0,t.useEffect)((function(){k<60||i().then(b)}),[k]);var T=function(e,a){return e.find((function(e){return e.currencyCodeA===a}))};d&&(C=T(d,840),M=T(d,978));var g=null===(e=localStorage)||void 0===e?void 0:e.getItem("currencyData"),F=JSON.parse(g);return F&&(C=T(F,840),M=T(F,978)),(0,N.jsxs)("div",{className:m,children:[(0,N.jsx)("div",{className:x,children:(0,N.jsxs)("ul",{className:_,children:[(0,N.jsx)("li",{children:"Currency"}),(0,N.jsx)("li",{children:"Purchase"}),(0,N.jsx)("li",{children:"Sale"})]})}),d||F?(0,N.jsxs)("div",{className:h,children:[(0,N.jsxs)("ul",{className:j,children:[(0,N.jsx)("li",{children:"USD"}),(0,N.jsx)("li",{className:f,children:null===(a=C)||void 0===a?void 0:a.rateBuy.toFixed(2)}),(0,N.jsx)("li",{children:null===(n=C)||void 0===n?void 0:n.rateSell.toFixed(2)})]}),(0,N.jsxs)("ul",{className:j,children:[(0,N.jsx)("li",{children:"EUR"}),(0,N.jsx)("li",{className:f,children:null===(o=M)||void 0===o?void 0:o.rateBuy.toFixed(2)}),(0,N.jsx)("li",{children:null===(r=M)||void 0===r?void 0:r.rateSell.toFixed(2)})]})]}):(0,N.jsx)("div",{className:p,children:(0,N.jsx)(u.Z,{height:"80",width:"80",color:"#ffffff"})})]})},v=n(9434),y=n(5581),k="ButtonAddTransactions_openBtn__mUV2r",C=function(){var e=(0,v.I0)();return(0,N.jsx)("button",{className:k,type:"button",onClick:function(){e((0,y.Ru)(!0))},children:"+"})},M=function(e){return e.modal.showModalAddTransaction},T="ModalAddTransaction_closeBtn__KUoYn",g="ModalAddTransaction_box__Y41ZK",F="ModalAddTransaction_title__Wzy3o",A="ModalUniversal_modal__backdrop__KxPUb",S="ModalUniversal_modal__content__p7mNf",I="ModalUniversal_btnClose__lyt9V",w="ModalUniversal_btnClose__icon__C5wxP",B=n(4164),D=n(3853),E=document.querySelector("#modal-root"),U=function(e){return(0,B.createPortal)((0,N.jsx)("div",{className:A,onClick:e.onClick,type:"flipInX",children:(0,N.jsxs)("div",{className:S,children:[(0,N.jsx)("button",{className:I,onClick:e.onClose,children:(0,N.jsx)(D.q5L,{className:w})}),e.children]})}),E)},Z=n(8617),R="ModalAddTransactionCheckbox_checkboxInfo__flVEV",P="ModalAddTransactionCheckbox_checkboxText__fdHit",H="ModalAddTransactionCheckbox_checkboxLabel__8-IHO",O="ModalAddTransactionCheckbox_checkboxIconBox__ZMmRM",V="ModalAddTransactionCheckbox_checkbox__xIemf",L="ModalAddTransactionCheckbox_checkboxIcon__WkWBj",Y=function(e){var a=e.onHandleCheckbox,n=e.checkboxStatus;return(0,N.jsxs)("div",{className:R,children:[(0,N.jsx)("span",{className:P,style:n?{color:"#24CCA7"}:{color:"#e0e0e0"},children:"Income"}),(0,N.jsxs)("label",{className:H,onClick:a,children:[(0,N.jsx)("input",{className:V,type:"checkbox"}),(0,N.jsx)("div",{className:O,onClick:a,children:n?(0,N.jsx)(Z.r7I,{className:L}):(0,N.jsx)(Z.XhU,{className:L})})]}),(0,N.jsx)("span",{className:P,style:n?{color:"#e0e0e0"}:{color:"#FF6596"},children:"Expense"})]})},J=n(1413),W=n(5705),q=n(7103),K=n(1799),G=n.n(K),Q=(n(1778),n(7425)),z="ModalAddTransactionForm_addBtn__knwpQ",X="ModalAddTransactionForm_calculatorForm__QZSjn",$="ModalAddTransactionForm_calculatorFormInputContainer__jj88S",ee="ModalAddTransactionForm_dataBox__MJu+2",ae="ModalAddTransactionForm_dataBtn__DRe3G",ne="ModalAddTransactionForm_dataBtnIcon__r8pPK",ce="ModalAddTransactionForm_calculatorFormInput__9O+Tx",te="ModalAddTransactionForm_calculatorFormTextarea__gwhcJ",oe="ModalAddTransactionForm_errorMessage__vxNNQ",re=q.Ry().shape({sum:q.Rx().min(.01).max(25e5).required()}),se={category:"",sum:""},le=function(e){var a=e.checkboxStatus;return(0,N.jsx)(W.J9,{initialValues:se,validationSchema:re,children:(0,N.jsxs)(W.l0,{className:X,children:[(0,N.jsxs)("div",{className:$,children:[!a&&(0,N.jsxs)("label",{children:[(0,N.jsx)(W.gN,{className:ce,type:"text",placeholder:"Select a category",name:"category"}),(0,N.jsx)(W.Bc,{className:oe,name:"category",component:"div"})]}),(0,N.jsxs)("label",{children:[(0,N.jsx)(W.gN,{className:ce,type:"text",placeholder:"0.00",name:"sum"}),(0,N.jsx)(W.Bc,{className:oe,name:"sum",component:"div"})]}),(0,N.jsx)("label",{children:(0,N.jsx)(G(),{timeFormat:!1,renderInput:function(e,a){return(0,N.jsxs)("div",{className:ee,children:[(0,N.jsx)(W.gN,(0,J.Z)((0,J.Z)({},e),{},{className:ce,type:"text",placeholder:"date",name:"date",autoComplete:"off"})),(0,N.jsx)("button",{className:ae,type:"button",onClick:a,children:(0,N.jsx)(Q.FVH,{className:ne})})]})},dateFormat:"DD.MM.YYYY",closeOnSelect:!0,initialValue:new Date})}),(0,N.jsxs)("label",{children:[(0,N.jsx)(W.gN,{className:te,name:"Comment",component:"textarea",placeholder:"Comment"}),(0,N.jsx)(W.Bc,{className:oe,name:"Comment",component:"div"})]})]}),(0,N.jsx)("button",{type:"submit",className:z,children:"Add"})]})})},de=function(){var e=(0,v.I0)(),a=(0,t.useState)(!1),n=(0,c.Z)(a,2),o=n[0],r=n[1],s=function(){e((0,y.Ru)(!1))},l=function(e){"Escape"===e.code&&s()};return(0,t.useEffect)((function(){return document.addEventListener("keydown",l),function(){document.removeEventListener("keydown",l)}})),(0,N.jsx)(U,{onClose:s,onClick:function(e){e.currentTarget===e.target&&s()},children:(0,N.jsxs)("div",{className:g,children:[(0,N.jsx)("h2",{className:F,children:"Add transaction"}),(0,N.jsx)(Y,{onHandleCheckbox:function(e){e.currentTarget===e.target&&r(!o)},checkboxStatus:o}),(0,N.jsx)(le,{checkboxStatus:o}),(0,N.jsx)("button",{className:T,type:"button",onClick:s,children:"cancel"})]})})},ie=function(){var e=(0,v.v9)(M);return(0,N.jsxs)(N.Fragment,{children:[e&&(0,N.jsx)(de,{}),(0,N.jsx)(b,{}),(0,N.jsx)(C,{}),(0,N.jsx)("div",{children:"HomePage"})]})}}}]);
//# sourceMappingURL=251.4d95b64a.chunk.js.map