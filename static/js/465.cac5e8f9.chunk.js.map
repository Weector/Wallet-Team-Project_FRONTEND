{"version":3,"file":"static/js/465.cac5e8f9.chunk.js","mappings":"8PAEeA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,6GAE2BC,EAAAA,GAAAA,IAAU,yCAFrC,cAEUC,EAFV,OAGIC,aAAaC,QAAQ,eAAgBC,KAAKC,UAAUJ,EAASK,OAC7DJ,aAAaC,QAAQ,oBAAqBI,KAAKC,OAJnD,kBAKWP,EAASK,MALpB,gCAOIG,QAAQC,MAAR,MAPJ,gFAWA,M,WAXeX,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,E,SCDf,EAAgE,wBAAhE,EAAoG,4BAApG,EAA4I,4BAA5I,EAAwL,gCAAxL,EAAmO,2BAAnO,EAAyQ,2BAAzQ,EAA6S,yB,UCoE7S,EA/DiB,WAAO,IAAD,UACrB,GAAgCY,EAAAA,EAAAA,UAAS,MAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KAEMC,EAAUP,KAAKC,MACfO,EAAoBb,aAAac,QAAQ,qBACzCC,EAAiBC,KAAKC,OAAOL,EAAUC,GAAqB,KAE9DK,EAAM,CAAC,EACPC,EAAM,CAAC,GAEXC,EAAAA,EAAAA,YAAU,WACJL,EAAiB,IACrBlB,IAAcwB,KAAKV,EACpB,GAAE,CAACI,IAEJ,IAAMO,EAAmB,SAACZ,EAAUa,GAClC,OAAOb,EAASc,MAAK,SAAAC,GAAE,OAAIA,EAAGC,gBAAkBH,CAAzB,GACxB,EAEGb,IACFQ,EAAMI,EAAiBZ,EAAU,KACjCS,EAAMG,EAAiBZ,EAAU,MAGnC,IAAMiB,EAAe,UAAG3B,oBAAH,aAAG,EAAcc,QAAQ,gBACxCc,EAAiB1B,KAAK2B,MAAMF,GAOlC,OALIC,IACFV,EAAMI,EAAiBM,EAAgB,KACvCT,EAAMG,EAAiBM,EAAgB,OAIvC,iBAAKE,UAAWC,EAAhB,WACE,gBAAKD,UAAWC,EAAhB,UACE,gBAAID,UAAWC,EAAf,WACE,sCACA,sCACA,sCAGFrB,GAAakB,GAKb,iBAAKE,UAAWC,EAAhB,WACE,gBAAID,UAAWC,EAAf,WACE,iCACA,eAAID,UAAWC,EAAf,mBAA8Bb,SAA9B,aAA8B,EAAKc,QAAQC,QAAQ,MACnD,kCAAKf,SAAL,aAAK,EAAKgB,SAASD,QAAQ,SAE7B,gBAAIH,UAAWC,EAAf,WACE,iCACA,eAAID,UAAWC,EAAf,mBAA8BZ,SAA9B,aAA8B,EAAKa,QAAQC,QAAQ,MACnD,kCAAKd,SAAL,aAAK,EAAKe,SAASD,QAAQ,YAb/B,gBAAKH,UAAWC,EAAhB,UACE,SAACI,EAAA,EAAD,CAAQC,OAAQ,KAAMC,MAAO,KAAMC,MAAO,gBAkBnD,EClDD,EAZiB,WACf,OACE,iCACE,SAAC,EAAD,KACA,wCAML,C","sources":["API/currencyAPI.js","webpack://wallet-leopards-team-FRONTEND/./src/components/Currency/currency.module.scss?74ad","components/Currency/Currency.jsx","pages/HomePage/HomePage.jsx"],"sourcesContent":["import axios from 'axios';\n\nasync function getCurrency() {\n  try {\n    const response = await axios.get('https://api.monobank.ua/bank/currency');\n    localStorage.setItem('currencyData', JSON.stringify(response.data));\n    localStorage.setItem('currencyFetchTime', Date.now());\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport default getCurrency;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"currency_container__YPj7c\",\"table\":\"currency_table__z69t6\",\"tableHead\":\"currency_tableHead__i33kg\",\"tableList\":\"currency_tableList__WWS3P\",\"bodyContainer\":\"currency_bodyContainer__7gIiq\",\"bodyList\":\"currency_bodyList__jE9sg\",\"bodyData\":\"currency_bodyData__4GIlG\",\"loader\":\"currency_loader__fcwmi\"};","import { useEffect, useState } from 'react';\nimport getCurrency from '../../API/currencyAPI';\nimport Loader from '../Loader/Loader';\n\nimport css from './currency.module.scss';\n\nconst Currency = () => {\n  const [currency, setCurrency] = useState(null);\n\n  const dateNow = Date.now();\n  const currencyFetchItem = localStorage.getItem('currencyFetchTime');\n  const fetchByMinutes = Math.floor((dateNow - currencyFetchItem) / 60000);\n\n  let USD = {};\n  let EUR = {};\n\n  useEffect(() => {\n    if (fetchByMinutes < 60) return;\n    getCurrency().then(setCurrency);\n  }, [fetchByMinutes]);\n\n  const findCurrencyRate = (currency, code) => {\n    return currency.find(el => el.currencyCodeA === code);\n  };\n\n  if (currency) {\n    USD = findCurrencyRate(currency, 840);\n    EUR = findCurrencyRate(currency, 978);\n  }\n\n  const storageCurrency = localStorage?.getItem('currencyData');\n  const parsedCurrency = JSON.parse(storageCurrency);\n\n  if (parsedCurrency) {\n    USD = findCurrencyRate(parsedCurrency, 840);\n    EUR = findCurrencyRate(parsedCurrency, 978);\n  }\n\n  return (\n    <div className={css.table}>\n      <div className={css.tableHead}>\n        <ul className={css.tableList}>\n          <li>Currency</li>\n          <li>Purchase</li>\n          <li>Sale</li>\n        </ul>\n      </div>\n      {!currency && !parsedCurrency ? (\n        <div className={css.loader}>\n          <Loader height={'80'} width={'80'} color={'#ffffff'} />\n        </div>\n      ) : (\n        <div className={css.bodyContainer}>\n          <ul className={css.bodyList}>\n            <li>USD</li>\n            <li className={css.bodyData}>{USD?.rateBuy.toFixed(2)}</li>\n            <li>{USD?.rateSell.toFixed(2)}</li>\n          </ul>\n          <ul className={css.bodyList}>\n            <li>EUR</li>\n            <li className={css.bodyData}>{EUR?.rateBuy.toFixed(2)}</li>\n            <li>{EUR?.rateSell.toFixed(2)}</li>\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Currency;\n","import Currency from 'components/Currency/Currency';\n// import Statistic from '../../components/Statistics/Statistics';\n// import HomeTabMobile from 'components/HomeTabMobile/HomeTabMobile';\n// import HomeTab from 'components/HomeTab/HomeTab';\n\nconst HomePage = () => {\n  return (\n    <>\n      <Currency />\n      <div>HomePage</div>\n      {/* <Statistic /> */}\n      {/* <HomeTab /> */}\n      {/* <HomeTabMobile /> */}\n    </>\n  );\n};\n\nexport default HomePage;\n"],"names":["getCurrency","axios","response","localStorage","setItem","JSON","stringify","data","Date","now","console","error","useState","currency","setCurrency","dateNow","currencyFetchItem","getItem","fetchByMinutes","Math","floor","USD","EUR","useEffect","then","findCurrencyRate","code","find","el","currencyCodeA","storageCurrency","parsedCurrency","parse","className","css","rateBuy","toFixed","rateSell","Loader","height","width","color"],"sourceRoot":""}