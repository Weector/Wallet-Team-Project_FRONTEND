"use strict";(self.webpackChunkwallet_leopards_team_FRONTEND=self.webpackChunkwallet_leopards_team_FRONTEND||[]).push([[983],{8079:function(e,a,n){n(2791);a.Z=n.p+"static/media/symbol-defs.9e2ec92168641a57bd7f2c4d08fb43dd.svg"},6451:function(e,a,n){n.r(a),n.d(a,{default:function(){return we}});var t=n(885),c=n(8687),s=n(7689),o=n(5607),r=n(2791),l=n(6542),i=n(5581),d="ModalAddTransaction_closeBtn__KUoYn",m="ModalAddTransaction_box__Y41ZK",u="ModalAddTransaction_title__Wzy3o",_=n(2431),x=n(8617),h="ModalAddTransactionCheckbox_checkboxInfo__flVEV",p="ModalAddTransactionCheckbox_checkboxText__fdHit",j="ModalAddTransactionCheckbox_checkboxLabel__8-IHO",b="ModalAddTransactionCheckbox_checkboxIconBox__ZMmRM",f="ModalAddTransactionCheckbox_checkbox__xIemf",N="ModalAddTransactionCheckbox_checkboxIcon__WkWBj",g=n(3329),v=function(e){var a=e.onHandleCheckbox,n=e.checkboxStatus;return(0,g.jsxs)("div",{className:h,children:[(0,g.jsx)("span",{className:p,style:n?{color:"#24CCA7"}:{color:"#e0e0e0"},children:"Income"}),(0,g.jsxs)("label",{className:j,onClick:a,children:[(0,g.jsx)("input",{className:f,type:"checkbox"}),(0,g.jsx)("div",{className:b,onClick:a,children:n?(0,g.jsx)(x.r7I,{className:N}):(0,g.jsx)(x.XhU,{className:N})})]}),(0,g.jsx)("span",{className:p,style:n?{color:"#e0e0e0"}:{color:"#FF6596"},children:"Expense"})]})},T=n(1413),y=n(5705),F=n(1724),C=n(1799),I=n.n(C),M=(n(1778),n(7425)),k=n(3853),H=function(e){var a,n=(a=e?new Date(Date.parse(e)):new Date).getDate();n<10&&(n="0"+n);var t=a.getMonth()+1;return t<10&&(t="0"+t),n+"."+t+"."+a.getFullYear()},w={container:"ModalAddTransactionForm_container__mInSF",addBtn:"ModalAddTransactionForm_addBtn__knwpQ",active:"ModalAddTransactionForm_active__9yLuK",addForm:"ModalAddTransactionForm_addForm__isvQk",addFormInputContainer:"ModalAddTransactionForm_addFormInputContainer__MQziW",categoryLabel:"ModalAddTransactionForm_categoryLabel__2r4J7",addFormInputCategory:"ModalAddTransactionForm_addFormInputCategory__QX5mk",scaleTitle:"ModalAddTransactionForm_scaleTitle__lpfO+",openMenuBtn:"ModalAddTransactionForm_openMenuBtn__+aSFk",openMenuBtnIcon:"ModalAddTransactionForm_openMenuBtnIcon__tA3ma",sumBox:"ModalAddTransactionForm_sumBox__0LsIO",addFormInputSum:"ModalAddTransactionForm_addFormInputSum__Cj1YJ",dateBox:"ModalAddTransactionForm_dateBox__qBGHe",addFormInputDate:"ModalAddTransactionForm_addFormInputDate__QHGQQ",dataBox:"ModalAddTransactionForm_dataBox__MJu+2",dataBtn:"ModalAddTransactionForm_dataBtn__DRe3G",dataBtnIcon:"ModalAddTransactionForm_dataBtnIcon__r8pPK",commentBox:"ModalAddTransactionForm_commentBox__P4h0C",addFormTextarea:"ModalAddTransactionForm_addFormTextarea__7Ktvu",error:"ModalAddTransactionForm_error__k3cL4"},B=n(2605),Z="ModalAddTransactionFormMenu_menu__drs0q",A="ModalAddTransactionFormMenu_menuItem__fXKa-",S=function(e){var a=e.handleCategory,n=(0,c.v9)(B.p.getCategories);return(0,g.jsx)("ul",{className:Z,children:n.map((function(e){var n=e._id,t=e.name;return(0,g.jsx)("li",{className:A,onClick:function(){return a(n,t)},children:t},n)}))})},D=n(9184),P=F.Ry().shape({amount:F.Rx().min(.01).max(25e5).required()}),E={amount:"",comment:""},$=function(e){var a=e.checkboxStatus,n=e.onClick,s=(0,r.useState)((new Date).toISOString()),o=(0,t.Z)(s,2),l=o[0],i=o[1],d=(0,r.useState)(H()),m=(0,t.Z)(d,2),u=m[0],_=m[1],x=(0,r.useState)(!1),h=(0,t.Z)(x,2),p=h[0],j=h[1],b=(0,r.useState)("10"),f=(0,t.Z)(b,2),N=f[0],v=f[1],F=(0,r.useState)("Other expenses"),C=(0,t.Z)(F,2),B=C[0],Z=C[1],A=(0,c.I0)(),$=function(){j(!p)},L=new Date;return(0,g.jsx)(y.J9,{initialValues:E,validationSchema:P,onSubmit:function(e,t){t.resetForm;var c=e.amount,s=e.comment;if(a){if(""===s){var o={transactionType:a,amount:Number(c),date:l};return A(D.ZP.addTransaction(o)),void n()}var r={transactionType:a,comment:s,amount:Number(c),date:l};return A(D.ZP.addTransaction(r)),void n()}if(""===s){var i={transactionType:a,category:N,amount:Number(c),date:l};return A(D.ZP.addTransaction(i)),void n()}var d={transactionType:a,category:N,comment:s,amount:Number(c),date:l};A(D.ZP.addTransaction(d)),n()},children:(0,g.jsxs)(y.l0,{className:w.addForm,children:[(0,g.jsxs)("div",{className:w.addFormInputContainer,children:[!a&&(0,g.jsxs)("label",{className:w.categoryLabel,children:[(0,g.jsx)(y.gN,{className:w.addFormInputCategory,type:"text",placeholder:"Select a category",name:"category",value:B,onClick:$,autoComplete:"off",readOnly:!0}),(0,g.jsx)("button",{className:w.openMenuBtn,type:"button",onClick:$,children:p?(0,g.jsx)(k.rH8,{className:w.openMenuBtnIcon}):(0,g.jsx)(k.bTu,{className:w.openMenuBtnIcon})}),p&&(0,g.jsx)(S,{handleCategory:function(e,a){v(e),Z(a)}})]}),(0,g.jsxs)("label",{className:w.sumBox,children:[(0,g.jsx)(y.gN,{className:w.addFormInputSum,type:"text",placeholder:"0.00",name:"amount",autoComplete:"off"}),(0,g.jsx)(y.Bc,{className:w.errorMessage,name:"amount",component:"div",render:function(){return(0,g.jsx)("div",{className:w.error,children:"Please, enter an amount from 0.01 to 2500000"})}})]}),(0,g.jsx)("label",{className:w.dateBox,children:(0,g.jsx)(I(),{timeFormat:!1,renderInput:function(e,a){return(0,g.jsxs)("div",{className:w.dataBox,children:[(0,g.jsx)(y.gN,(0,T.Z)((0,T.Z)({},e),{},{className:w.addFormInputDate,type:"text",placeholder:"date",name:"date",autoComplete:"off",value:u,readOnly:!0})),(0,g.jsx)("button",{className:w.dataBtn,type:"button",onClick:a,children:(0,g.jsx)(M.FVH,{className:w.dataBtnIcon})})]})},isValidDate:function(e){return e.isBefore(L)},dateFormat:"DD.MM.YYYY",closeOnSelect:!0,initialValue:new Date,onChange:function(e){var a=e._d;i(a.toISOString()),_(H(a))}})}),(0,g.jsx)("label",{className:w.commentBox,children:(0,g.jsx)(y.gN,{className:w.addFormTextarea,name:"comment",component:"textarea",placeholder:"Comment"})})]}),(0,g.jsx)("button",{type:"submit",className:w.addBtn,children:"Add"})]})})},L=function(){var e=(0,c.I0)(),a=(0,r.useState)(!1),n=(0,t.Z)(a,2),s=n[0],o=n[1],l=function(){e((0,i.Ru)(!1))},x=function(e){"Escape"===e.code&&l()};return(0,r.useEffect)((function(){return document.addEventListener("keydown",x),document.body.style.overflow="hidden",function(){document.removeEventListener("keydown",x),document.body.style.overflow=""}})),(0,g.jsx)(_.Z,{onClose:l,onClick:function(e){e.currentTarget===e.target&&l()},children:(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("h2",{className:u,children:"Add transaction"}),(0,g.jsx)(v,{onHandleCheckbox:function(e){e.currentTarget===e.target&&o(!s)},checkboxStatus:s}),(0,g.jsx)($,{checkboxStatus:s,onClick:l}),(0,g.jsx)("button",{className:d,type:"button",onClick:l,children:"cancel"})]})})},R=n(4869),O=function(e){return e.finance.totalBalance},W=function(e){return e.finance.data},q="Balance_balanceContainer__C-AFQ",Q="Balance_balanceAmount__8yfJl";var Y=n.p+"static/media/hryvniaLogo.8b72370dad1354da2a1e4c59fe17fa4c.svg",K=function(){var e=(0,c.v9)(O);return(0,g.jsxs)("div",{className:q,children:[(0,g.jsx)("p",{children:"Your balance"}),(0,g.jsxs)("div",{className:Q,children:[(0,g.jsx)("img",{src:Y,alt:"logo of hryvnia"}),(0,g.jsx)("p",{children:e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0.00"})]})]})},U=n(1161),J=n(2982),V=n(5861),G=n(4687),X=n.n(G),z="HomeTabMobile_operationList__DeGuN",ee="HomeTabMobile_operationItem__LlPAE",ae="HomeTabMobile_operationItemUl__x8cSy",ne="HomeTabMobile_operationInfo__e95EB",te="HomeTabMobile_operationInfoIncome__Td8yy",ce="HomeTabMobile_operationInfoExpence__bQeCU",se="HomeTabMobile_mobileTableHeader__GkyyR",oe="HomeTabMobile_mobileTableInfo__YP8+k",re="HomeTabMobile_mobileTableInfoIncome__E8lxu",le="HomeTabMobile_mobileTableInfoExpence__s2gTq",ie=n(2195),de=function(e){var a=e.currentPage,n=e.setCurrentPage,t=e.fetching,s=e.setFetching,o=(0,c.I0)();function l(){return l=(0,V.Z)(X().mark((function e(a,t){var c,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.tu.get("transactions?page=".concat(a,"&limit=10"));case 2:return c=e.sent,o=c.data,e.next=6,t(D.ZP.updateTransactionsNew(o));case 6:n((function(e){return e+1})),s(!1);case 8:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}(0,r.useEffect)((function(){t&&function(e,a){l.apply(this,arguments)}(a,o)}),[t]);var i=(0,c.v9)(W);(0,r.useEffect)((function(){i.length<10&&o(D.ZP.updateTransactions())}),[]);var d=function(e){e.target.documentElement.scrollHeight-(e.target.documentElement.scrollTop+window.innerHeight)<100&&s(!0)};(0,r.useEffect)((function(){return window.addEventListener("scroll",d),function(){return window.removeEventListener("scroll",d)}}));var m=function(e){return e?(0,J.Z)(e)((function(e,a){return Number(a.date.replace(/^(\d+)-(\d+)-(\d+)\D.+$/,"$1$2$3"))-Number(e.date.replace(/^(\d+)-(\d+)-(\d+)\D.+$/,"$1$2$3"))})):[]}((0,c.v9)(W));function u(e){return!0===e.transactionType?"".concat(ne," ").concat(te):"".concat(ne," ").concat(ce)}function _(e){return!0===e.transactionType?"".concat(oe," ").concat(re):"".concat(oe," ").concat(le)}function x(e){return!0===e.transactionType?"+":"-"}function h(e){var a=e.date.replace(/^(\d+)-(\d+)-(\d+)\D.+$/,"$3.$2.$1");return a.slice(0,6)+a.slice(-2)}return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("ul",{className:z,children:m.map((function(e){var a;return(0,g.jsx)("li",{className:ee,children:(0,g.jsxs)("ul",{className:ae,children:[(0,g.jsxs)("li",{className:u(e),children:[(0,g.jsx)("span",{className:se,children:"Date"}),(0,g.jsx)("span",{className:oe,children:h(e)})]}),(0,g.jsxs)("li",{className:u(e),children:[(0,g.jsx)("span",{className:se,children:"Type"}),(0,g.jsx)("span",{className:oe,children:x(e)})]}),(0,g.jsxs)("li",{className:u(e),children:[(0,g.jsx)("span",{className:se,children:"Category"}),(0,g.jsx)("span",{className:oe,children:null!==(a=e.category)&&void 0!==a&&a.name?e.category.name:"Income"})]}),(0,g.jsxs)("li",{className:u(e),children:[(0,g.jsx)("span",{className:se,children:"Comment"}),(0,g.jsx)("span",{className:oe,children:e.comment})]}),(0,g.jsxs)("li",{className:u(e),children:[(0,g.jsx)("span",{className:se,children:"Sum"}),(0,g.jsx)("span",{className:_(e),children:e.amount})]}),(0,g.jsxs)("li",{className:u(e),children:[(0,g.jsx)("span",{className:se,children:"Balance"}),(0,g.jsx)("span",{className:oe,children:e.remainingBalance})]})]})},e._id)}))})})},me={container:"HomeTab_container__zaA2p",table:"HomeTab_table__SKmrr",tableContent:"HomeTab_tableContent__D67I-",tableHeader:"HomeTab_tableHeader__2BX84",tableRow:"HomeTab_tableRow__aFiXH",tableRowItem:"HomeTab_tableRowItem__FJBi2",tableTitle:"HomeTab_tableTitle__oAUaW",date:"HomeTab_date__vWfeL",type:"HomeTab_type__ZhpEw",category:"HomeTab_category__UCjzD",comment:"HomeTab_comment__9q1i1",sum:"HomeTab_sum__12jlL",balance:"HomeTab_balance__-L1qs",sumColorIncome:"HomeTab_sumColorIncome__Jv4ZF",sumColorExpense:"HomeTab_sumColorExpense__TgxQ8"},ue=function(e){var a=e.currentPage,n=e.setCurrentPage,t=e.fetching,s=e.setFetching,o=(0,c.I0)(),l=(0,r.useRef)();function i(){return i=(0,V.Z)(X().mark((function e(a,t){var c,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.tu.get("transactions?page=".concat(a,"&limit=20"));case 2:return c=e.sent,o=c.data,e.next=6,t(D.ZP.updateTransactionsNew(o));case 6:n((function(e){return e+1})),s(!1);case 8:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}(0,r.useEffect)((function(){t&&function(e,a){i.apply(this,arguments)}(a,o)}),[t]);var d=(0,c.v9)(W);(0,r.useEffect)((function(){d.length<20&&o(D.ZP.updateTransactions())}),[]);var m=function(e){return e?(0,J.Z)(e).sort((function(e,a){return Number(a.date.replace(/^(\d+)-(\d+)-(\d+)\D.+$/,"$1$2$3"))-Number(e.date.replace(/^(\d+)-(\d+)-(\d+)\D.+$/,"$1$2$3"))})):[]}((0,c.v9)(W));function u(e){return!0===e.transactionType?"".concat(me.tableRowItem," ").concat(me.sum," ").concat(me.sumColorIncome):"".concat(me.tableRowItem," ").concat(me.sum," ").concat(me.sumColorExpense)}function _(e){return!0===e.transactionType?"+":"-"}function x(e){var a=e.date.replace(/^(\d+)-(\d+)-(\d+)\D.+$/,"$3.$2.$1");return a.slice(0,6)+a.slice(-2)}return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("table",{className:me.table,children:[(0,g.jsx)("thead",{className:me.tableHeaderTh,children:(0,g.jsxs)("tr",{className:me.tableHeader,children:[(0,g.jsx)("th",{className:"".concat(me.tableTitle," ").concat(me.date),children:"Date"}),(0,g.jsx)("th",{className:"".concat(me.tableTitle," ").concat(me.type),children:"Type"}),(0,g.jsx)("th",{className:"".concat(me.tableTitle," ").concat(me.category),children:"Category"}),(0,g.jsx)("th",{className:"".concat(me.tableTitle," ").concat(me.comment),children:"Comment"}),(0,g.jsx)("th",{className:"".concat(me.tableTitle," ").concat(me.sum),children:"Sum"}),(0,g.jsx)("th",{className:"".concat(me.tableTitle," ").concat(me.balance),children:"Balance"})]})}),(0,g.jsx)("tbody",{className:me.tableContent,onScroll:function(e){e.target.scrollHeight-(e.target.scrollTop+l.current.clientHeight)<100&&s(!0)},ref:l,children:m.map((function(e){var a;return(0,g.jsxs)("tr",{className:me.tableRow,children:[(0,g.jsx)("td",{className:"".concat(me.tableRowItem," ").concat(me.date),children:x(e)}),(0,g.jsx)("td",{className:"".concat(me.tableRowItem," ").concat(me.type),children:_(e)}),(0,g.jsx)("td",{className:"".concat(me.tableRowItem," ").concat(me.category),children:null!==(a=e.category)&&void 0!==a&&a.name?e.category.name:"Income"}),(0,g.jsx)("td",{className:"".concat(me.tableRowItem," ").concat(me.comment),children:e.comment}),(0,g.jsx)("td",{className:u(e),children:e.amount}),(0,g.jsx)("td",{className:"".concat(me.tableRowItem," ").concat(me.balance),children:e.remainingBalance})]},e._id)}))})]})})},_e="Navigation_nav__MsE7Z",xe="Navigation_nav__link__-JGkw",he="Navigation_icon__wrapper__jVWmj",pe="Navigation_text__c-eXu",je="Navigation_active__link__2UbeK",be="Navigation_svg__llWmC",fe="Navigation_fonts__ymyaU",Ne="Navigation_fonts1__ZqNNn",ge="Navigation_fonts2__ToobO",ve="Navigation_fonts3__O8kei",Te=n(8079),ye=n(1087),Fe=function(e){return e.isActive?je:xe},Ce=function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(o.Z,{queries:{small:"(max-width:767px)",medium:"(min-width:768px)"},children:function(e){return(0,g.jsxs)(r.Fragment,{children:[e.small&&(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("nav",{className:_e,children:[(0,g.jsx)(ye.OL,{to:"/",className:Fe,children:(0,g.jsx)("div",{className:he,children:(0,g.jsx)("svg",{className:be,children:(0,g.jsx)("use",{href:"".concat(Te.Z,"#icon-home")})})})}),(0,g.jsx)(ye.OL,{to:"/statistic",className:Fe,children:(0,g.jsx)("div",{className:he,children:(0,g.jsx)("svg",{className:be,children:(0,g.jsx)("use",{href:"".concat(Te.Z,"#icon-statistics")})})})}),(0,g.jsx)(ye.OL,{to:"/currency",className:Fe,children:(0,g.jsx)("div",{className:he,children:(0,g.jsx)("svg",{className:be,children:(0,g.jsx)("use",{href:"".concat(Te.Z,"#icon-currency")})})})})]})}),e.medium&&(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("nav",{className:_e,children:[(0,g.jsxs)(ye.OL,{to:"/",className:Fe,children:[(0,g.jsx)("div",{className:he,children:(0,g.jsx)("svg",{className:be,children:(0,g.jsx)("use",{href:"".concat(Te.Z,"#icon-home")})})}),(0,g.jsx)("p",{className:pe,children:"Home"})]}),(0,g.jsxs)(ye.OL,{to:"/statistic",className:Fe,children:[(0,g.jsx)("div",{className:he,children:(0,g.jsx)("svg",{className:be,children:(0,g.jsx)("use",{href:"".concat(Te.Z,"#icon-statistics")})})}),(0,g.jsx)("p",{className:pe,children:"Statistics"})]}),(0,g.jsxs)("div",{className:fe,children:[(0,g.jsx)("p",{className:Ne,children:"."}),(0,g.jsx)("p",{className:ge,children:"."}),(0,g.jsx)("p",{className:ve,children:"."})]})]})})]})}})})},Ie="HomePage_pageWrapper__TWxsU",Me="HomePage_financeWrapper__Kq-cV",ke="HomePage_financeWrapper__dashboard__DBCvi",He="HomePage_financeWrapper__nav__hq2P+",we=function(){var e=(0,r.useState)(2),a=(0,t.Z)(e,2),n=a[0],i=a[1],d=(0,r.useState)(!1),m=(0,t.Z)(d,2),u=m[0],_=m[1],x=(0,s.TH)(),h="/statistic"===x.pathname,p="/currency"===x.pathname,j=(0,c.v9)(l.M.showModalAddTransaction);return(0,g.jsxs)("div",{className:Ie,children:[(0,g.jsx)(o.Z,{queries:{small:"(max-width: 767px)",medium:"(min-width: 768px) and (max-width: 1279px)",large:"(min-width: 1280px)"},children:function(e){return(0,g.jsxs)(g.Fragment,{children:[e.small&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Ce,{}),(0,g.jsxs)("div",{className:ke,children:[!h&&!p&&(0,g.jsx)(K,{}),!h&&!p&&(0,g.jsx)(de,{currentPage:n,setCurrentPage:i,fetching:u,setFetching:_})]}),p&&(0,g.jsx)(U.Z,{}),h&&(0,g.jsx)(R.Z,{})]}),e.medium&&(0,g.jsxs)(g.Fragment,{children:[p&&(0,g.jsx)(s.Fg,{to:"/"}),(0,g.jsxs)("div",{className:Me,children:[(0,g.jsxs)("div",{className:ke,children:[(0,g.jsxs)("div",{className:He,children:[(0,g.jsx)(Ce,{}),(0,g.jsx)(K,{})]}),(0,g.jsx)(U.Z,{})]}),h&&(0,g.jsx)(R.Z,{}),!h&&(0,g.jsx)(ue,{currentPage:n,setCurrentPage:i,fetching:u,setFetching:_})]})]}),e.large&&(0,g.jsxs)(g.Fragment,{children:[p&&(0,g.jsx)(s.Fg,{to:"/"}),(0,g.jsxs)("div",{className:Me,children:[(0,g.jsxs)("div",{className:ke,children:[(0,g.jsx)(Ce,{}),(0,g.jsx)(K,{}),(0,g.jsx)(U.Z,{})]}),h&&(0,g.jsx)(R.Z,{}),!h&&(0,g.jsx)(ue,{currentPage:n,setCurrentPage:i,fetching:u,setFetching:_})]})]})]})}}),j&&(0,g.jsx)(L,{})]})}}}]);
//# sourceMappingURL=983.70be378a.chunk.js.map